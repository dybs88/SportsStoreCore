@model CustomerListViewModel

@{
    ViewData["Title"] = "Lista klientów";
}
<div class="row mb-1">
    <div class="col">
        <div search="" label-text="Id lub email:"></div>
    </div>
</div>
<table class="table table-striped">
    <tr>
        <th>Imię</th>
        <th>Nazwisko</th>
        <th>Adres e-mail</th>
        <th>Nr telefonu</th>
        <th>Ilość zamówień</th>
        <th>Data rejestracji</th>
        <th>Akcja</th>
    </tr>
    @foreach(var pair in Model.Customers)
    {
        <tr>
            <td>@pair.Key.FirstName</td>
            <td>@pair.Key.LastName</td>
            <td>@pair.Key.Email</td>
            <td>@pair.Key.PhoneNumber</td>
            <td>@pair.Value.CustomerOrdersCount</td>
            <td></td>
            <td>
                <a class="btn btn-primary btn-sm" 
                   asp-action="Index" 
                   asp-controller="Customer"
                   asp-route-customerId ="@pair.Key.CustomerId"
                   asp-route-returnUrl ="@Context.Request.PathAndQuery()"
                   asp-route-pageMode ="@PageMode.Edit">
                   Edytuj
                </a>
            </td>
        </tr>
    }
</table>

<div page-model="@Model.PageModel" page-action="List" page-class="btn ml-1"
     page-class-normal="btn-secondary" page-class-selected="btn-primary" class="btn-group float-right m-1">
</div>

